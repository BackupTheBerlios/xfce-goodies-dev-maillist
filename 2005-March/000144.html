<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Panel changes for 4.4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/xfce-goodies-dev/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:xfce-goodies-dev%40lists.berlios.de?Subject=Re%3A%20Panel%20changes%20for%204.4&In-Reply-To=%3C424ADB61.8070707%40xfce.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000143.html">
   <LINK REL="Next"  HREF="000147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Panel changes for 4.4</H1>
    <B>Jasper Huijsmans</B> 
    <A HREF="mailto:xfce-goodies-dev%40lists.berlios.de?Subject=Re%3A%20Panel%20changes%20for%204.4&In-Reply-To=%3C424ADB61.8070707%40xfce.org%3E"
       TITLE="Panel changes for 4.4">jasper at xfce.org
       </A><BR>
    <I>Wed Mar 30 19:01:21 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000143.html">Panel changes for 4.4
</A></li>
        <LI>Next message: <A HREF="000147.html">Panel changes for 4.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#144">[ date ]</a>
              <a href="thread.html#144">[ thread ]</a>
              <a href="subject.html#144">[ subject ]</a>
              <a href="author.html#144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alexander Iliev wrote:
&gt;<i> Jasper Huijsmans &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/xfce-goodies-dev">jasper at xfce.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Alexander Iliev wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Hei, I thought of another addition to the new API:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>gboolean xfce_panel_plugin_test_availability(gchar
</I>&gt;&gt;&gt;<i>**return_msg);
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Good idea, but I think it should be sufficient to have a
</I>&gt;&gt;<i>'Unique = True'
</I>&gt;&gt;<i>field in the .desktop file for the plugin. I can't really
</I>&gt;&gt;<i>think of a
</I>&gt;&gt;<i>situation where this wouldn't work.
</I>&gt;&gt;<i>
</I>
&gt;<i> 
</I>&gt;<i> Ok, since this is pretty similar to my previous suggestion
</I>&gt;<i> some more explanation would be needed. First - the idea
</I>&gt;<i> is pretty different here. It's not about plugin being
</I>&gt;<i> unique or not, it's about cheching for certain conditions
</I>&gt;<i> which should be fulfilled.
</I>&gt;<i> 
</I>&gt;<i> Take for example the xkb plugin. If I run a Xvnc server
</I>&gt;<i> and connect to the server there is no XKB extension
</I>&gt;<i> available
</I>&gt;<i> (Xvnc does not implement XKB). So the xkb plugin could not
</I>&gt;<i> function at all. As a result the panel currently crashes.
</I>&gt;<i> This is firstly plugin's fault and I'm working on a rewrite
</I>&gt;<i> of this plugin which sould handle such situations more
</I>&gt;<i> gracefully. I also know that with the new out-of-process
</I>&gt;<i> plugins a crash in one plugin should not crash the whole
</I>&gt;<i> panel. But nevertheless I think such API would be of help
</I>&gt;<i> in making XFCE more user-oriented desktop.
</I>&gt;<i> 
</I>&gt;<i> I think having such a function is a good thing, since the
</I>&gt;<i> plugin writers can use it to check for certain conditions
</I>&gt;<i> needed to run their plugins. If the plugin doesn't depend
</I>&gt;<i> on any such conditions or the plugin writer doesn't want to
</I>&gt;<i> implement it the simpliest thing is to &quot;return TRUE;&quot;. I
</I>&gt;<i> think it wouldn't be hard to implement this from the panel
</I>&gt;<i> side. It might slow the add new item dialog (or whatever
</I>&gt;<i> it will become in the future), but this is pretty rarely
</I>&gt;<i> performed task.
</I>&gt;<i> 
</I>&gt;<i> Hey, that's just my opinion. :-)
</I>&gt;<i> It's up to you, I just think such an API would help in
</I>&gt;<i> creating a more &quot;usable&quot; desktop environment.
</I>&gt;<i> 
</I>
Thanks, that's a very interesting use case. My previous reply may have 
sounded like I didn't agree with the feature, but what I meant was to 
ask you when it would be useful ;-)

I'm trying to keep the interface as small as possible, especially since 
it must be based on sending messages because you can't directly call a 
function in an external plugin. That's why I'll be asking for use cases 
for every API addition and will try to find alternatives that don't 
involve communication.

Anyway, back to your suggestion, there are two situations here that are 
important:

- Add a new plugin.

- Start the panel with an existing configuration in a different environment.

The second on will be much harder to handle, because you do want it to 
show up again the next time you log in to an environment where the 
plugin does work again.

Don't you think it would be better if the plugin would show an error 
icon and/or a dialog explaining the situation, and perhaps offering the 
user to hide and try again in the next session? This would not need 
communication with the panel.

	Jasper

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000143.html">Panel changes for 4.4
</A></li>
	<LI>Next message: <A HREF="000147.html">Panel changes for 4.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#144">[ date ]</a>
              <a href="thread.html#144">[ thread ]</a>
              <a href="subject.html#144">[ subject ]</a>
              <a href="author.html#144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/xfce-goodies-dev">More information about the xfce-goodies-dev
mailing list</a><br>
</body></html>
