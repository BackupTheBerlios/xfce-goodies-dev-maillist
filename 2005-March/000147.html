<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Panel changes for 4.4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/xfce-goodies-dev/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:xfce-goodies-dev%40lists.berlios.de?Subject=Re%3A%20Panel%20changes%20for%204.4&In-Reply-To=%3C1112208111.8acaf70fb7cf1%40mail.bg%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000144.html">
   <LINK REL="Next"  HREF="000132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Panel changes for 4.4</H1>
    <B>Alexander Iliev</B> 
    <A HREF="mailto:xfce-goodies-dev%40lists.berlios.de?Subject=Re%3A%20Panel%20changes%20for%204.4&In-Reply-To=%3C1112208111.8acaf70fb7cf1%40mail.bg%3E"
       TITLE="Panel changes for 4.4">sasoiliev_trash at mail.bg
       </A><BR>
    <I>Wed Mar 30 20:41:51 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000144.html">Panel changes for 4.4
</A></li>
        <LI>Next message: <A HREF="000132.html">[Fwd: Weather Update]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#147">[ date ]</a>
              <a href="thread.html#147">[ thread ]</a>
              <a href="subject.html#147">[ subject ]</a>
              <a href="author.html#147">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jasper Huijsmans &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/xfce-goodies-dev">jasper at xfce.org</A>&gt; wrote:

&gt;<i> Alexander Iliev wrote:
</I>&gt;<i> &gt; Jasper Huijsmans &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/xfce-goodies-dev">jasper at xfce.org</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;Alexander Iliev wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;Hei, I thought of another addition to the new API:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;gboolean xfce_panel_plugin_test_availability(gchar
</I>&gt;<i> &gt;&gt;&gt;**return_msg);
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Good idea, but I think it should be sufficient to have
</I>&gt;<i> a
</I>&gt;<i> &gt;&gt;'Unique = True'
</I>&gt;<i> &gt;&gt;field in the .desktop file for the plugin. I can't
</I>&gt;<i> really
</I>&gt;<i> &gt;&gt;think of a
</I>&gt;<i> &gt;&gt;situation where this wouldn't work.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Ok, since this is pretty similar to my previous
</I>&gt;<i> suggestion
</I>&gt;<i> &gt; some more explanation would be needed. First - the idea
</I>&gt;<i> &gt; is pretty different here. It's not about plugin being
</I>&gt;<i> &gt; unique or not, it's about cheching for certain
</I>&gt;<i> conditions
</I>&gt;<i> &gt; which should be fulfilled.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Take for example the xkb plugin. If I run a Xvnc server
</I>&gt;<i> &gt; and connect to the server there is no XKB extension
</I>&gt;<i> &gt; available
</I>&gt;<i> &gt; (Xvnc does not implement XKB). So the xkb plugin could
</I>&gt;<i> not
</I>&gt;<i> &gt; function at all. As a result the panel currently
</I>&gt;<i> crashes.
</I>&gt;<i> &gt; This is firstly plugin's fault and I'm working on a
</I>&gt;<i> rewrite
</I>&gt;<i> &gt; of this plugin which sould handle such situations more
</I>&gt;<i> &gt; gracefully. I also know that with the new
</I>&gt;<i> out-of-process
</I>&gt;<i> &gt; plugins a crash in one plugin should not crash the
</I>&gt;<i> whole
</I>&gt;<i> &gt; panel. But nevertheless I think such API would be of
</I>&gt;<i> help
</I>&gt;<i> &gt; in making XFCE more user-oriented desktop.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think having such a function is a good thing, since
</I>&gt;<i> the
</I>&gt;<i> &gt; plugin writers can use it to check for certain
</I>&gt;<i> conditions
</I>&gt;<i> &gt; needed to run their plugins. If the plugin doesn't
</I>&gt;<i> depend
</I>&gt;<i> &gt; on any such conditions or the plugin writer doesn't
</I>&gt;<i> want to
</I>&gt;<i> &gt; implement it the simpliest thing is to &quot;return TRUE;&quot;.
</I>&gt;<i> I
</I>&gt;<i> &gt; think it wouldn't be hard to implement this from the
</I>&gt;<i> panel
</I>&gt;<i> &gt; side. It might slow the add new item dialog (or
</I>&gt;<i> whatever
</I>&gt;<i> &gt; it will become in the future), but this is pretty
</I>&gt;<i> rarely
</I>&gt;<i> &gt; performed task.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hey, that's just my opinion. :-)
</I>&gt;<i> &gt; It's up to you, I just think such an API would help in
</I>&gt;<i> &gt; creating a more &quot;usable&quot; desktop environment.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Thanks, that's a very interesting use case. My previous
</I>&gt;<i> reply may have
</I>&gt;<i> sounded like I didn't agree with the feature, but what I
</I>&gt;<i> meant was to
</I>&gt;<i> ask you when it would be useful ;-)
</I>&gt;<i>
</I>&gt;<i> I'm trying to keep the interface as small as possible,
</I>&gt;<i> especially since
</I>&gt;<i> it must be based on sending messages because you can't
</I>&gt;<i> directly call a
</I>&gt;<i> function in an external plugin. That's why I'll be asking
</I>&gt;<i> for use cases
</I>&gt;<i> for every API addition and will try to find alternatives
</I>&gt;<i> that don't
</I>&gt;<i> involve communication.
</I>&gt;<i>
</I>&gt;<i> Anyway, back to your suggestion, there are two situations
</I>&gt;<i> here that are
</I>&gt;<i> important:
</I>&gt;<i>
</I>&gt;<i> - Add a new plugin.
</I>&gt;<i>
</I>&gt;<i> - Start the panel with an existing configuration in a
</I>&gt;<i> different environment.
</I>&gt;<i>
</I>&gt;<i> The second on will be much harder to handle, because you
</I>&gt;<i> do want it to
</I>&gt;<i> show up again the next time you log in to an environment
</I>&gt;<i> where the
</I>&gt;<i> plugin does work again.
</I>&gt;<i>
</I>&gt;<i> Don't you think it would be better if the plugin would
</I>&gt;<i> show an error
</I>&gt;<i> icon and/or a dialog explaining the situation, and
</I>&gt;<i> perhaps offering the
</I>&gt;<i> user to hide and try again in the next session? This
</I>&gt;<i> would not need
</I>&gt;<i> communication with the panel.
</I>&gt;<i>
</I>&gt;<i> 	Jasper
</I>&gt;<i> _______________________________________________
</I>&gt;<i> xfce-goodies-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/xfce-goodies-dev">xfce-goodies-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="http://lists.berlios.de/mailman/listinfo/xfce-goodies-dev">http://lists.berlios.de/mailman/listinfo/xfce-goodies-dev</A>
</I>&gt;<i>
</I>
You're absolutely right about the two important
situations - adding a plugin and starting with existing
configuration. And you are also absolutely right about
what should happen in the latter case - the plugin
should show an error icon/message/dialog/whatever to
inform the user that for some reason it could not
function properly. This is plugin's responsibility.

The advantage of the proposed addition is in the case
when the user tries to add a new plugin. In this case
I think it would be more appropriate to disable the
ability to add certain plugins if they could not function
as expected than to add plugins regardless and then
recieve an error message. But I've already said that :).

What I didn't say is - I wasn't aware of the technology
that is about to be used for the new API with external
plugins. If you think it would add unnecessary overhead
to the panel then I'd absolutely agree that this addition
should be disregarded. It's vital to keep XFCE as
lightweight and fast as possible since it's one of the
main reasons for me to use it and love it.

But, (one more time) :-) since this specific call will
be made only when the user clicks on &quot;add new item&quot; or
&quot;configure panel&quot; or &quot;whatever it'll be called&quot; menu item,
I think it won't cause too much trouble.

And one more thing - I'm not trying to make you do my
work. :-) I definitely will implement the error
handling in the xkb plugin (so that the plugin shows
error messages to the user in the most user-friendly
way possible). This is my work and I'll do it. My
intention is to make XFCE panel even more user-friendly.

Once again, if you really think the overhead added by
this will be too much, then it's not worth it.

Best regards,
Alexander




--------------------------------------
&#1058;&#1086;&#1074;&#1072; &#1087;&#1080;&#1089;&#1084;&#1086; &#1077; &#1080;&#1079;&#1087;&#1088;&#1072;&#1090;&#1077;&#1085;&#1086; &#1086;&#1090;  www.mail.bg

&#1041;&#1077;&#1079;&#1087;&#1083;&#1072;&#1090;&#1085;&#1072;&#1090;&#1072; &#1087;&#1086;&#1097;&#1072; &#1074; mail.bg &#1087;&#1088;&#1077;&#1076;&#1083;&#1072;&#1075;&#1072;:
- &#1057;&#1080;&#1083;&#1085;&#1072; &#1079;&#1072;&#1097;&#1080;&#1090;&#1072; &#1089;&#1088;&#1077;&#1097;&#1091; &#1057;&#1055;&#1040;&#1052;/&#1088;&#1077;&#1082;&#1083;&#1072;&#1084;&#1085;&#1080; &#1087;&#1080;&#1089;&#1084;&#1072;
- 30MB &#1073;&#1077;&#1079;&#1087;&#1083;&#1072;&#1090;&#1085;&#1086; (SMS &#1086;&#1090; 2&#1083;&#1074;=3GB!)
- 30MB &#1084;&#1072;&#1082;&#1089;. &#1088;&#1072;&#1079;&#1084;&#1077;&#1088; &#1085;&#1072; &#1087;&#1088;&#1080;&#1082;&#1072;&#1095;&#1077;&#1085; &#1092;&#1072;&#1081;&#1083;
- SMS &#1079;&#1072; &#1085;&#1086;&#1074;&#1086; &#1087;&#1080;&#1089;&#1084;&#1086; (&#1074;&#1089;&#1080;&#1095;&#1082;&#1080; &#1086;&#1087;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1080;)
- WAP &#1076;&#1086;&#1089;&#1090;&#1098;&#1087; &#1086;&#1090; GSM &#1080; &#1073;&#1077;&#1079; &#1082;&#1086;&#1084;&#1087;&#1102;&#1090;&#1098;&#1088;
- &#1041;&#1077;&#1079;&#1087;&#1083;&#1072;&#1090;&#1077;&#1085; POP3 &#1076;&#1086;&#1089;&#1090;&#1098;&#1087;
- 24 &#1095;&#1072;&#1089;&#1086;&#1074; &#1090;&#1077;&#1083;&#1077;&#1092;&#1086;&#1085; &#1079;&#1072; &#1087;&#1086;&#1084;&#1086;&#1097;/&#1087;&#1086;&#1076;&#1076;&#1088;&#1098;&#1078;&#1082;&#1072;
______________________________________
&#1041;&#1045;&#1047; &#1048;&#1047;&#1051;&#1048;&#1064;&#1053;&#1048; &#1042;&#1066;&#1055;&#1056;&#1054;&#1057;&#1048; &#1056;&#1045;&#1043;&#1048;&#1057;&#1058;&#1056;&#1048;&#1056;&#1040;&#1049;&#1058;&#1045; &#1057;&#1042;&#1054;&#1049;
&#1041;&#1045;&#1047;&#1055;&#1051;&#1040;&#1058;&#1045;&#1053; &#1040;&#1044;&#1056;&#1045;&#1057; &#1053;&#1040;  <A HREF="http://www.mail.bg">http://www.mail.bg</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000144.html">Panel changes for 4.4
</A></li>
	<LI>Next message: <A HREF="000132.html">[Fwd: Weather Update]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#147">[ date ]</a>
              <a href="thread.html#147">[ thread ]</a>
              <a href="subject.html#147">[ subject ]</a>
              <a href="author.html#147">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/xfce-goodies-dev">More information about the xfce-goodies-dev
mailing list</a><br>
</body></html>
